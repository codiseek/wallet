{% extends "includes/modals/_base_modal.html" %}
{% load static %}

{% block modal_id %}todoModal{% endblock %}

{% block modal_content %}
<div class="p-4 border-b border-gray-700 flex items-center justify-between">
    <h2 id="todoModalTitle" class="text-xl font-bold flex items-center">
        <i class="fas fa-plus-circle text-green-400 mr-2"></i>
        Новая задача
    </h2>
    <button id="closeTodoModalHeaderBtn" class="text-gray-300 hover:text-white px-3 py-1 rounded-lg bg-gray-700 hover:bg-gray-600 transition-colors text-sm font-medium flex items-center">
        <i class="fas fa-times mr-1"></i>Закрыть
    </button>
</div>

<div class="p-6">
    <div class="space-y-6">
        <!-- Название задачи -->
        <div>

            <input type="text" 
                   placeholder="Что нужно сделать?" 
                   class="w-full bg-gray-800/50 border border-gray-600/50 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"
                   id="todoTitleInput">
        </div>
        
        <!-- Описание -->
        <div>
           
            <textarea placeholder="Дополнительные детали (не обязательно)" 
                      rows="3"
                      class="w-full bg-gray-800/50 border border-gray-600/50 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 resize-none"
                      id="todoDescriptionInput"></textarea>
        </div>
        
        <!-- Статус выполнения (только при редактировании) -->
        <div id="todoStatusSection" style="display: none;">
            <label class="block text-gray-300 mb-3 text-sm font-medium">
                <i class="fas fa-check-circle text-green-400 mr-2"></i>
                Статус выполнения
            </label>
            <div class="flex items-center space-x-3 p-3 bg-gray-800/30 rounded-xl border border-gray-600/30">
                <label class="inline-flex items-center cursor-pointer">
                    <input type="checkbox" 
                           id="todoCompletedCheckbox" 
                           class="w-5 h-5 text-green-400 bg-gray-700 border-gray-600 rounded focus:ring-green-500 focus:ring-2 transition-all duration-200">
                    <span class="ml-3 text-gray-300 font-medium">Отметить как выполненную</span>
                </label>
            </div>
            <p class="text-gray-500 text-xs mt-2">
                <i class="fas fa-info-circle mr-1"></i>
                Вы также можете отметить задачу выполненной, нажав на кружок в списке
            </p>
        </div>
    </div>
    
    <div class="flex justify-end gap-3 mt-8 pt-4 border-t border-gray-700/50">
        <button onclick="window.todoManager.closeModal()" 
                class="px-6 py-3 text-gray-300 hover:text-white border border-gray-600/50 rounded-xl hover:bg-gray-700/50 transition-all duration-200 font-medium flex items-center">
            <i class="fas fa-times mr-2"></i>Отмена
        </button>
        <button id="saveTodoBtn"
                class="px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl font-medium transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-lg shadow-green-500/25 flex items-center">
            <i class="fas fa-save mr-2"></i>Сохранить
        </button>
    </div>
</div>

<style>
/* Анимация для чекбокса */
input[type="checkbox"] {
    transform: scale(1);
    transition: all 0.2s ease-in-out;
}

input[type="checkbox"]:checked {
    transform: scale(1.1);
}

/* Плавный фокус для полей ввода */
.input-field:focus {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
}
</style>
{% endblock %}